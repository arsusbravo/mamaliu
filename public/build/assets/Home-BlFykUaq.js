import{d as T,j as y,k as $,e as B,w as g,b as e,a as s,c as d,f as v,u as a,t as i,g as h,o as r,h as L,F as I,r as M,i as O}from"./app-DXumuqqD.js";import{_ as z}from"./ClientLayout.vue_vue_type_script_setup_true_lang-X2w1JuHb.js";import{a as D,_ as E}from"./CardContent.vue_vue_type_script_setup_true_lang-DtwOmg1x.js";import{c as N,_ as U}from"./index-BNZlNajr.js";import{M as W,S as Y}from"./shopping-bag-BSL9T0wh.js";import{P}from"./plus-D_0ma4Qk.js";import{_ as Z}from"./Textarea.vue_vue_type_script_setup_true_lang-BSY_P5FT.js";import{_ as V,a as F,b as A,c as H,d as X}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DsGzzokW.js";import{S as G}from"./sparkles-Dk639XI5.js";import{C as J}from"./calendar-CoW6RDAC.js";import{S as j}from"./shopping-cart-Cs9hHjaT.js";import{X as K}from"./x-BRhLvdN4.js";import"./Presence-DiqnCD5D.js";const Q=N("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const R=N("ZoomInIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ee={class:"relative group"},te={key:0,class:"relative overflow-hidden"},oe=["src","alt"],se={key:1,class:"w-full h-56 bg-linear-to-br from-red-100 to-orange-100 flex items-center justify-center"},ae={key:3,class:"absolute top-3 left-3 bg-linear-to-r from-red-600 to-orange-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg"},ne={class:"text-xl font-black text-gray-800 mb-2 line-clamp-1"},le={class:"text-gray-600 text-sm mb-4 line-clamp-2 min-h-10"},re={key:0,class:"flex items-center gap-1.5 text-xs text-gray-600 mb-3 bg-orange-50 px-2 py-1.5 rounded-lg"},de={class:"font-medium"},ie={class:"text-gray-800 font-semibold"},ue={class:"flex items-center justify-between mb-5"},ce={class:"text-3xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},me={class:"flex items-center gap-2"},xe={class:"flex items-center gap-1 border-2 border-red-200 rounded-xl bg-red-50/50"},ge=["disabled"],fe={class:"w-12 text-center font-bold text-gray-800"},be=["disabled"],pe=T({__name:"MenuCard",props:{weekmenu:{}},emits:["addToCart","enlargeImage"],setup(n,{emit:u}){const f=n,b=u,m=y(1),C=()=>{m.value<f.weekmenu.quantity&&m.value++},w=()=>{m.value>1&&m.value--},_=()=>{b("addToCart",f.weekmenu,m.value),m.value=1},p=$(()=>f.weekmenu.menu.image_url||"");return(k,c)=>(r(),B(a(E),{class:"overflow-hidden hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-red-200 hover:scale-105 bg-white rounded-2xl"},{default:g(()=>[e("div",ee,[n.weekmenu.menu.has_image&&p.value?(r(),d("div",te,[e("img",{src:p.value,alt:n.weekmenu.menu.label,class:"w-full h-56 object-cover cursor-pointer group-hover:scale-110 transition-transform duration-300",onClick:c[0]||(c[0]=q=>b("enlargeImage",p.value))},null,8,oe),c[2]||(c[2]=e("div",{class:"absolute inset-0 bg-linear-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"},null,-1))])):(r(),d("div",se,[...c[3]||(c[3]=[e("span",{class:"text-gray-400 text-lg font-semibold"},"üçú Ê≤íÊúâÂúñÁâá",-1)])])),n.weekmenu.menu.has_image&&p.value?(r(),d("button",{key:2,onClick:c[1]||(c[1]=q=>b("enlargeImage",p.value)),class:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm p-2.5 rounded-full hover:bg-white transition-all shadow-lg hover:scale-110"},[s(a(R),{class:"h-5 w-5 text-red-600"})])):v("",!0),n.weekmenu.quantity<=5?(r(),d("div",ae," ÂÉÖÂâ© "+i(n.weekmenu.quantity)+" ‰ªΩÔºÅ ",1)):v("",!0)]),s(a(D),{class:"p-5"},{default:g(()=>[e("h3",ne,i(n.weekmenu.menu.label),1),e("p",le,i(n.weekmenu.menu.description),1),n.weekmenu.group?(r(),d("div",re,[s(a(W),{class:"h-3.5 w-3.5 text-orange-600"}),e("span",de,[c[4]||(c[4]=h("ÈÄÅÈ§êÂú∞ÈªûÔºö",-1)),e("span",ie,i(n.weekmenu.group.name),1)])])):v("",!0),e("div",ue,[e("span",ce," ‚Ç¨"+i(n.weekmenu.menu.price.toFixed(2)),1)]),e("div",me,[e("div",xe,[e("button",{onClick:w,disabled:m.value<=1,class:"p-2.5 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-l-xl transition-colors"},[s(a(Q),{class:"h-4 w-4 text-red-600"})],8,ge),e("span",fe,i(m.value),1),e("button",{onClick:C,disabled:m.value>=n.weekmenu.quantity,class:"p-2.5 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-r-xl transition-colors"},[s(a(P),{class:"h-4 w-4 text-red-600"})],8,be)]),s(a(U),{onClick:_,class:"flex-1 bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white font-bold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all"},{default:g(()=>[s(a(Y),{class:"h-4 w-4 mr-2"}),c[5]||(c[5]=h(" Âä†ÂÖ•Ë≥ºÁâ©Ëªä ",-1))]),_:1})])]),_:1})]),_:1}))}}),he={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 font-[--font-family-wenkai]"},ve={class:"bg-linear-to-r from-red-600 to-orange-500 rounded-3xl shadow-2xl p-8 mb-8 text-white"},ye={class:"flex items-center justify-between flex-wrap gap-4"},we={class:"text-4xl md:text-5xl font-black mb-2 flex items-center gap-3"},_e={class:"flex items-center gap-3 text-white/90 text-lg"},ke={class:"font-semibold"},$e={key:0,class:"px-4 py-1.5 bg-white/20 backdrop-blur-sm rounded-full text-sm font-bold border-2 border-white/30"},Ce={key:0,class:"text-center py-20"},qe={key:1},Ie={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8"},je={class:"font-black text-xl"},Se={key:0,class:"text-center py-12 text-gray-500"},Me={key:1,class:"space-y-4"},Ve={class:"flex items-start justify-between mb-3"},Fe={class:"flex-1"},Te={class:"font-bold text-lg text-gray-800"},Be={class:"text-sm text-red-600 font-semibold"},Ne=["onClick"],Ue={class:"flex items-center gap-3 mb-3"},Pe=["onClick"],Qe={class:"w-16 text-center font-bold text-xl text-gray-800"},Le=["onClick","disabled"],Oe={class:"text-sm text-gray-500 ml-auto font-semibold"},ze={class:"border-t-2 border-gray-200 pt-6 mt-6"},De={class:"flex items-center justify-between text-3xl font-black mb-6 text-gray-800"},Ee={class:"text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},We=["src"],at=T({__name:"Home",props:{weekmenus:{},isPreOrder:{type:Boolean},currentWeek:{},currentYear:{},userName:{}},setup(n){const u=y([]),f=y(!1),b=y(!1),m=y(null),C=(l,t)=>{const o=u.value.find(x=>x.weekmenu_id===l.id);o?o.quantity+=t:u.value.push({weekmenu_id:l.id,menu_label:l.menu.label,quantity:t,price:l.menu.price,max_quantity:l.quantity,notes:""})},w=l=>{u.value=u.value.filter(t=>t.weekmenu_id!==l)},_=(l,t)=>{const o=u.value.find(x=>x.weekmenu_id===l);if(o){const x=o.quantity+t;x<=0?w(l):x<=o.max_quantity&&(o.quantity=x)}},p=$(()=>u.value.reduce((l,t)=>l+t.price*t.quantity,0)),k=$(()=>u.value.reduce((l,t)=>l+t.quantity,0)),c=()=>{if(u.value.length===0){alert("ÊÇ®ÁöÑË≥ºÁâ©ËªäÊòØÁ©∫ÁöÑ");return}const l=u.value.map(t=>({weekmenu_id:t.weekmenu_id,quantity:t.quantity,notes:t.notes}));O.post("/place-order",{orders:l},{onSuccess:()=>{u.value=[],f.value=!1}})},q=l=>{m.value=l,b.value=!0},S=$(()=>m.value||"");return(l,t)=>(r(),d(I,null,[s(a(L),{title:"ÈªûÈ§êËèúÂñÆ"}),s(z,{"cart-count":k.value,onShowCart:t[3]||(t[3]=o=>f.value=!0)},{default:g(()=>[e("div",he,[e("div",ve,[e("div",ye,[e("div",null,[e("h1",we,[s(a(G),{class:"h-8 w-8 animate-pulse"}),h(" ‰Ω†Â•ΩÔºå"+i(n.userName)+"ÔºÅ ",1)]),e("div",_e,[s(a(J),{class:"h-5 w-5"}),e("span",ke,"Á¨¨ "+i(n.currentWeek)+" ÈÄ±Ôºå"+i(n.currentYear),1),n.isPreOrder?(r(),d("span",$e," üéâ È†êË≥º ")):v("",!0)])]),t[4]||(t[4]=e("div",{class:"hidden md:block"},[e("img",{src:"/images/logo.png",alt:"Chef",class:"h-32 w-32 object-contain drop-shadow-2xl"})],-1))])]),n.weekmenus.length===0?(r(),d("div",Ce,[...t[5]||(t[5]=[e("div",{class:"bg-white rounded-3xl shadow-xl p-12 max-w-md mx-auto"},[e("img",{src:"/images/logo.png",alt:"Mama Liu",class:"h-32 w-32 object-contain mx-auto mb-6 opacity-50"}),e("h2",{class:"text-3xl font-bold text-gray-800 mb-4"},"ÁõÆÂâçÊ≤íÊúâËèúÂñÆ"),e("p",{class:"text-gray-600 text-lg"},"‰∏ãÈÄ±ËèúÂñÆÂç≥Â∞áÊé®Âá∫ÔºåÊï¨Ë´ãÊúüÂæÖÔºÅ")],-1)])])):(r(),d("div",qe,[t[6]||(t[6]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"},[e("span",{class:"bg-linear-to-r from-red-600 to-orange-500 text-white px-4 py-2 rounded-xl"}," Êú¨ÈÄ±ËèúÂñÆ ")],-1)),e("div",Ie,[(r(!0),d(I,null,M(n.weekmenus,o=>(r(),B(pe,{key:o.id,weekmenu:o,onAddToCart:C,onEnlargeImage:q},null,8,["weekmenu"]))),128))])])),k.value>0?(r(),d("button",{key:2,onClick:t[0]||(t[0]=o=>f.value=!0),class:"fixed bottom-8 right-8 bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white rounded-full p-5 shadow-2xl transition-all hover:scale-110 flex items-center gap-3 z-50 group"},[s(a(j),{class:"h-7 w-7 group-hover:animate-bounce"}),e("span",je,i(k.value),1)])):v("",!0)]),s(a(V),{open:f.value,"onUpdate:open":t[1]||(t[1]=o=>f.value=o)},{default:g(()=>[s(a(F),{class:"max-w-2xl max-h-[90vh] overflow-y-auto"},{default:g(()=>[s(a(A),null,{default:g(()=>[s(a(H),{class:"text-2xl font-bold flex items-center gap-2"},{default:g(()=>[s(a(j),{class:"h-6 w-6 text-red-600"}),t[7]||(t[7]=h(" ÊÇ®ÁöÑË≥ºÁâ©Ëªä ",-1))]),_:1}),s(a(X),null,{default:g(()=>[...t[8]||(t[8]=[h("Ë´ãÂú®ÈÄÅÂá∫Ë®ÇÂñÆÂâçÁ¢∫Ë™çÊÇ®ÁöÑÈ§êÈªû",-1)])]),_:1})]),_:1}),u.value.length===0?(r(),d("div",Se,[s(a(j),{class:"h-16 w-16 mx-auto mb-4 text-gray-300"}),t[9]||(t[9]=e("p",{class:"text-lg"},"ÊÇ®ÁöÑË≥ºÁâ©ËªäÊòØÁ©∫ÁöÑ",-1))])):(r(),d("div",Me,[(r(!0),d(I,null,M(u.value,o=>(r(),d("div",{key:o.weekmenu_id,class:"border-2 border-gray-100 rounded-xl p-4 hover:border-red-200 transition-colors bg-linear-to-r from-white to-orange-50/30"},[e("div",Ve,[e("div",Fe,[e("h3",Te,i(o.menu_label),1),e("p",Be,"‚Ç¨"+i(o.price.toFixed(2))+" ÊØè‰ªΩ",1)]),e("button",{onClick:x=>w(o.weekmenu_id),class:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-colors"},[s(a(K),{class:"h-5 w-5"})],8,Ne)]),e("div",Ue,[e("button",{onClick:x=>_(o.weekmenu_id,-1),class:"p-2 rounded-lg border-2 border-red-200 hover:bg-red-50 hover:border-red-400 transition-colors"},[s(a(Q),{class:"h-4 w-4 text-red-600"})],8,Pe),e("span",Qe,i(o.quantity),1),e("button",{onClick:x=>_(o.weekmenu_id,1),disabled:o.quantity>=o.max_quantity,class:"p-2 rounded-lg border-2 border-red-200 hover:bg-red-50 hover:border-red-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[s(a(P),{class:"h-4 w-4 text-red-600"})],8,Le),e("span",Oe," ‚Ç¨"+i((o.price*o.quantity).toFixed(2)),1)]),s(a(Z),{modelValue:o.notes,"onUpdate:modelValue":x=>o.notes=x,placeholder:"ÁâπÊÆäË¶ÅÊ±ÇÊàñÂÇôË®ª...",rows:"2",class:"text-sm border-gray-200 focus:border-red-400 focus:ring-red-400"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),e("div",ze,[e("div",De,[t[10]||(t[10]=e("span",null,"Á∏ΩË®àÔºö",-1)),e("span",Ee," ‚Ç¨"+i(p.value.toFixed(2)),1)]),s(a(U),{onClick:c,class:"w-full bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white font-bold text-lg py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",size:"lg"},{default:g(()=>[...t[11]||(t[11]=[h(" Á´ãÂç≥‰∏ãÂñÆ üéâ ",-1)])]),_:1})])]))]),_:1})]),_:1},8,["open"]),s(a(V),{open:b.value,"onUpdate:open":t[2]||(t[2]=o=>b.value=o)},{default:g(()=>[s(a(F),{class:"max-w-4xl bg-black/95"},{default:g(()=>[S.value?(r(),d("img",{key:0,src:S.value,alt:"Menu image",class:"w-full h-auto rounded-lg"},null,8,We)):v("",!0)]),_:1})]),_:1},8,["open"])]),_:1},8,["cart-count"])],64))}});export{at as default};
