import{c as w}from"./index-FtfLgv6C.js";import{a as C}from"./Label.vue_vue_type_script_setup_true_lang-CtSbfQFT.js";import{I as _}from"./image-off-DkU_9akq.js";import{C as V}from"./check-O_BZIMDr.js";import{d as F,j as g,k as p,c as s,b as e,f as m,y as S,a as h,u as f,t as c,F as j,r as N,e as B,o as t}from"./app-BUDQIbDx.js";const ae=w("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),M={class:"grid gap-2"},I={key:0,class:"flex items-center gap-3 flex-1"},L={key:0,class:"w-10 h-10 rounded overflow-hidden shrink-0"},z=["src","alt"],D={key:1,class:"w-10 h-10 rounded bg-gray-100 flex items-center justify-center shrink-0"},O={class:"flex-1 min-w-0"},$={class:"font-medium truncate"},q={class:"text-xs text-muted-foreground"},E={key:1,class:"text-muted-foreground"},Q={key:0,class:"relative"},U={class:"absolute z-50 w-full mt-1 bg-background border rounded-md shadow-lg"},A={class:"p-2 border-b"},G={class:"max-h-64 overflow-y-auto"},H={class:"p-1"},J=["onClick"],K={key:0,class:"w-12 h-12 rounded overflow-hidden shrink-0"},P=["src","alt"],R={key:1,class:"w-12 h-12 rounded bg-gray-100 flex items-center justify-center shrink-0"},T={class:"flex-1 text-left min-w-0"},W={class:"font-medium truncate"},X={class:"text-sm text-muted-foreground"},Y={key:0,class:"p-4 text-center text-muted-foreground"},Z={key:1,class:"text-sm text-red-500"},ne=F({__name:"MenuSelector",props:{menus:{},modelValue:{},error:{}},emits:["update:modelValue"],setup(i,{emit:k}){const u=i,x=k,r=g(""),d=g(!1),l=p(()=>u.menus.find(a=>String(a.id)===u.modelValue)),v=p(()=>{if(!r.value)return u.menus;const a=r.value.toLowerCase();return u.menus.filter(n=>n.label.toLowerCase().includes(a))}),y=a=>{x("update:modelValue",String(a)),d.value=!1,r.value=""},b=()=>{d.value=!d.value,d.value&&(r.value="")};return(a,n)=>(t(),s("div",M,[e("button",{type:"button",onClick:b,class:S(["flex items-center gap-3 w-full px-3 py-2 text-left border rounded-md bg-background hover:bg-accent",i.error?"border-red-500":"border-input"])},[l.value?(t(),s("div",I,[l.value.has_image&&l.value.image_url?(t(),s("div",L,[e("img",{src:l.value.image_url,alt:l.value.label,class:"w-full h-full object-cover"},null,8,z)])):(t(),s("div",D,[h(f(_),{class:"h-5 w-5 text-gray-400"})])),e("div",O,[e("div",$,c(l.value.label),1),e("div",q,"€"+c(Number(l.value.price).toFixed(2)),1)])])):(t(),s("span",E,"Select a menu")),n[1]||(n[1]=e("svg",{class:"w-4 h-4 ml-auto shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))],2),d.value?(t(),s("div",Q,[e("div",U,[e("div",A,[h(f(C),{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=o=>r.value=o),type:"text",placeholder:"Search menus...",class:"w-full"},null,8,["modelValue"])]),e("div",G,[e("div",H,[(t(!0),s(j,null,N(v.value,o=>(t(),s("button",{key:o.id,type:"button",onClick:ee=>y(o.id),class:"flex items-center gap-3 w-full px-3 py-2 rounded hover:bg-accent transition-colors"},[o.has_image&&o.image_url?(t(),s("div",K,[e("img",{src:o.image_url,alt:o.label,class:"w-full h-full object-cover"},null,8,P)])):(t(),s("div",R,[h(f(_),{class:"h-6 w-6 text-gray-400"})])),e("div",T,[e("div",W,c(o.label),1),e("div",X,"€"+c(Number(o.price).toFixed(2)),1)]),String(o.id)===i.modelValue?(t(),B(f(V),{key:2,class:"w-4 h-4 text-primary shrink-0"})):m("",!0)],8,J))),128)),v.value.length===0?(t(),s("div",Y," No menus found ")):m("",!0)])])])])):m("",!0),i.error?(t(),s("span",Z,c(i.error),1)):m("",!0)]))}});export{ae as F,ne as _};
