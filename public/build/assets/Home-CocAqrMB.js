import{d as W,j as h,k as _,e as S,w as g,b as e,a,c as d,f as v,u as s,t as c,g as f,o as n,h as z,F as k,r as I,i as B}from"./app-Xnm7XAGS.js";import{_ as D}from"./ClientLayout.vue_vue_type_script_setup_true_lang-CKGu1NOJ.js";import{a as E,_ as Y}from"./CardContent.vue_vue_type_script_setup_true_lang-Dnh3ZWkP.js";import{c as P,_ as M}from"./index-BZWujIKO.js";import{M as Z,S as A}from"./shopping-bag-mkdli9jn.js";import{P as Q}from"./plus-i1_zTPMB.js";import{_ as H}from"./Textarea.vue_vue_type_script_setup_true_lang-BqnwKue4.js";import{_ as F,a as N,b as X,c as G,d as J}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DsFCyM1O.js";import{S as K}from"./sparkles-goGN79F9.js";import{C as U}from"./calendar-CID8dTTD.js";import{S as j}from"./shopping-cart-CIpSd88r.js";import{X as R}from"./x-DY1rFcdW.js";import"./Presence-B_gSEmy3.js";const L=P("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const ee=P("ZoomInIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),te={class:"relative group"},oe={key:0,class:"relative overflow-hidden"},se=["src","alt"],ae={key:1,class:"w-full h-56 bg-linear-to-br from-red-100 to-orange-100 flex items-center justify-center"},le={key:3,class:"absolute top-3 left-3 bg-linear-to-r from-red-600 to-orange-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg"},ne={class:"text-xl font-black text-gray-800 mb-2 line-clamp-1"},re={class:"text-gray-600 text-sm mb-4 line-clamp-2 min-h-10"},de={key:0,class:"flex items-center gap-1.5 text-xs text-gray-600 mb-3 bg-orange-50 px-2 py-1.5 rounded-lg"},ie={class:"font-medium"},ue={class:"text-gray-800 font-semibold"},ce={class:"flex items-center justify-between mb-5"},me={class:"text-3xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},xe={class:"flex items-center gap-2"},ge={class:"flex items-center gap-1 border-2 border-red-200 rounded-xl bg-red-50/50"},fe=["disabled"],be={class:"w-12 text-center font-bold text-gray-800"},pe=["disabled"],ve=W({__name:"MenuCard",props:{weekmenu:{}},emits:["addToCart","enlargeImage"],setup(l,{emit:$}){const i=l,b=$,m=h(1),y=()=>{m.value<i.weekmenu.quantity&&m.value++},C=()=>{m.value>1&&m.value--},w=()=>{b("addToCart",i.weekmenu,m.value),m.value=1},p=_(()=>i.weekmenu.menu.image_url||"");return(T,u)=>(n(),S(s(Y),{class:"overflow-hidden hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-red-200 hover:scale-105 bg-white rounded-2xl"},{default:g(()=>[e("div",te,[l.weekmenu.menu.has_image&&p.value?(n(),d("div",oe,[e("img",{src:p.value,alt:l.weekmenu.menu.label,class:"w-full h-56 object-cover cursor-pointer group-hover:scale-110 transition-transform duration-300",onClick:u[0]||(u[0]=q=>b("enlargeImage",p.value))},null,8,se),u[2]||(u[2]=e("div",{class:"absolute inset-0 bg-linear-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"},null,-1))])):(n(),d("div",ae,[...u[3]||(u[3]=[e("span",{class:"text-gray-400 text-lg font-semibold"},"üçú Ê≤íÊúâÂúñÁâá",-1)])])),l.weekmenu.menu.has_image&&p.value?(n(),d("button",{key:2,onClick:u[1]||(u[1]=q=>b("enlargeImage",p.value)),class:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm p-2.5 rounded-full hover:bg-white transition-all shadow-lg hover:scale-110"},[a(s(ee),{class:"h-5 w-5 text-red-600"})])):v("",!0),l.weekmenu.quantity<=5?(n(),d("div",le," ÂÉÖÂâ© "+c(l.weekmenu.quantity)+" ‰ªΩÔºÅ ",1)):v("",!0)]),a(s(E),{class:"p-5"},{default:g(()=>[e("h3",ne,c(l.weekmenu.menu.label),1),e("p",re,c(l.weekmenu.menu.description),1),l.weekmenu.group?(n(),d("div",de,[a(s(Z),{class:"h-3.5 w-3.5 text-orange-600"}),e("span",ie,[u[4]||(u[4]=f("ÈÄÅÈ§êÂú∞ÈªûÔºö",-1)),e("span",ue,c(l.weekmenu.group.name),1)])])):v("",!0),e("div",ce,[e("span",me," ‚Ç¨"+c(l.weekmenu.menu.price.toFixed(2)),1)]),e("div",xe,[e("div",ge,[e("button",{onClick:C,disabled:m.value<=1,class:"p-2.5 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-l-xl transition-colors"},[a(s(L),{class:"h-4 w-4 text-red-600"})],8,fe),e("span",be,c(m.value),1),e("button",{onClick:y,disabled:m.value>=l.weekmenu.quantity,class:"p-2.5 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-r-xl transition-colors"},[a(s(Q),{class:"h-4 w-4 text-red-600"})],8,pe)]),a(s(M),{onClick:w,class:"flex-1 bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white font-bold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all"},{default:g(()=>[a(s(A),{class:"h-4 w-4 mr-2"}),u[5]||(u[5]=f(" Âä†ÂÖ•Ë≥ºÁâ©Ëªä ",-1))]),_:1})])]),_:1})]),_:1}))}}),he={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 font-[--font-family-wenkai]"},ye={class:"bg-linear-to-r from-red-600 to-orange-500 rounded-3xl shadow-2xl p-8 mb-8 text-white"},we={class:"flex items-center justify-between flex-wrap gap-4"},ke={class:"text-4xl md:text-5xl font-black mb-2 flex items-center gap-3"},_e={key:0},$e={class:"flex items-center gap-3 text-white/90 text-lg"},Ce={class:"font-semibold"},qe={key:0,class:"px-4 py-1.5 bg-white/20 backdrop-blur-sm rounded-full text-sm font-bold border-2 border-white/30"},Ie={key:0,class:"text-center py-20"},je={class:"bg-white rounded-3xl shadow-xl p-12 max-w-lg mx-auto"},Se={key:0,class:"space-y-4"},Me={class:"flex flex-wrap justify-center gap-3"},Te={key:1},Ve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8"},Be={class:"font-black text-xl"},Fe={key:0,class:"text-center py-12 text-gray-500"},Ne={key:1,class:"space-y-4"},Ue={class:"flex items-start justify-between mb-3"},We={class:"flex-1"},Pe={class:"font-bold text-lg text-gray-800"},Qe={class:"text-sm text-red-600 font-semibold"},Le=["onClick"],Oe={class:"flex items-center gap-3 mb-3"},ze=["onClick"],De={class:"w-16 text-center font-bold text-xl text-gray-800"},Ee=["onClick","disabled"],Ye={class:"text-sm text-gray-500 ml-auto font-semibold"},Ze={class:"border-t-2 border-gray-200 pt-6 mt-6"},Ae={class:"flex items-center justify-between text-3xl font-black mb-6 text-gray-800"},He={class:"text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},Xe=["src"],it=W({__name:"Home",props:{weekmenus:{},currentWeek:{},currentYear:{},userName:{},welcome:{type:Boolean},futureWeeks:{},isPreOrder:{type:Boolean}},setup(l){const $=(r,t)=>{B.get("/",{week:r,year:t})},i=h([]),b=h(!1),m=h(!1),y=h(null),C=(r,t)=>{const o=i.value.find(x=>x.weekmenu_id===r.id);o?o.quantity+=t:i.value.push({weekmenu_id:r.id,menu_label:r.menu.label,quantity:t,price:r.menu.price,max_quantity:r.quantity,notes:""})},w=r=>{i.value=i.value.filter(t=>t.weekmenu_id!==r)},p=(r,t)=>{const o=i.value.find(x=>x.weekmenu_id===r);if(o){const x=o.quantity+t;x<=0?w(r):x<=o.max_quantity&&(o.quantity=x)}},T=_(()=>i.value.reduce((r,t)=>r+t.price*t.quantity,0)),u=_(()=>i.value.reduce((r,t)=>r+t.quantity,0)),q=()=>{if(i.value.length===0){alert("ÊÇ®ÁöÑË≥ºÁâ©ËªäÊòØÁ©∫ÁöÑ");return}const r=i.value.map(t=>({weekmenu_id:t.weekmenu_id,quantity:t.quantity,notes:t.notes}));B.post("/place-order",{orders:r},{onSuccess:()=>{i.value=[],b.value=!1}})},O=r=>{y.value=r,m.value=!0},V=_(()=>y.value||"");return(r,t)=>(n(),d(k,null,[a(s(z),{title:"ÈªûÈ§êËèúÂñÆ"}),a(D,{"cart-count":u.value,onShowCart:t[3]||(t[3]=o=>b.value=!0)},{default:g(()=>[e("div",he,[e("div",ye,[e("div",we,[e("div",null,[e("h1",ke,[a(s(K),{class:"h-8 w-8 animate-pulse"}),f(" ‰Ω†Â•ΩÔºå"+c(l.userName)+"ÔºÅ ",1)]),l.welcome?(n(),d("h3",_e,[...t[4]||(t[4]=[f("ÊÇ®ÁèæÂú®‰ΩçÊñº ",-1),e("strong",{class:"text-yellow-100"},"mamaliu.com",-1),f("ÔºÅÂæûÁèæÂú®Ëµ∑ÊÇ®ÂèØ‰ª•Âú®ÊàëÂÄëÁöÑÊñ∞Á∂≤ÂüüË®ÇË≥ºÔºåËÄå‰∏çÊòØËàäÁöÑÁ∂≤Âüü ",-1),e("s",{class:"text-red-400"},"mama-liu.com",-1),f("„ÄÇ",-1)])])):v("",!0),e("div",$e,[a(s(U),{class:"h-5 w-5"}),e("span",Ce,"Á¨¨ "+c(l.currentWeek)+" ÈÄ±Ôºå"+c(l.currentYear),1),l.isPreOrder?(n(),d("span",qe," üéâ È†êË≥º ")):v("",!0)])]),t[5]||(t[5]=e("div",{class:"hidden md:block"},[e("img",{src:"/images/logo.png",alt:"Chef",class:"h-32 w-32 object-contain drop-shadow-2xl"})],-1))])]),l.weekmenus.length===0?(n(),d("div",Ie,[e("div",je,[t[7]||(t[7]=e("img",{src:"/images/logo.png",alt:"Mama Liu",class:"h-32 w-32 object-contain mx-auto mb-6 opacity-50"},null,-1)),t[8]||(t[8]=e("h2",{class:"text-3xl font-bold text-gray-800 mb-4"},"ÁõÆÂâçÊ≤íÊúâËèúÂñÆ",-1)),t[9]||(t[9]=e("p",{class:"text-gray-600 text-lg mb-6"},"Êú¨ÈÄ±ËèúÂñÆÂ∞öÊú™Êé®Âá∫ÔºåÊï¨Ë´ãÊúüÂæÖÔºÅ",-1)),l.futureWeeks.length>0?(n(),d("div",Se,[t[6]||(t[6]=e("p",{class:"text-gray-500 text-sm"},"ÊàñËÄÖÊÇ®ÂèØ‰ª•È†êË≥º‰ª•‰∏ãÈÄ±Ê¨°ÁöÑËèúÂñÆÔºö",-1)),e("div",Me,[(n(!0),d(k,null,I(l.futureWeeks,o=>(n(),S(s(M),{key:`${o.year}-${o.week}`,onClick:x=>$(o.week,o.year),class:"bg-linear-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all"},{default:g(()=>[a(s(U),{class:"h-4 w-4 mr-2"}),f(" Á¨¨ "+c(o.week)+" ÈÄ± ",1)]),_:2},1032,["onClick"]))),128))])])):v("",!0)])])):(n(),d("div",Te,[t[10]||(t[10]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"},[e("span",{class:"bg-linear-to-r from-red-600 to-orange-500 text-white px-4 py-2 rounded-xl"}," Êú¨ÈÄ±ËèúÂñÆ ")],-1)),e("div",Ve,[(n(!0),d(k,null,I(l.weekmenus,o=>(n(),S(ve,{key:o.id,weekmenu:o,onAddToCart:C,onEnlargeImage:O},null,8,["weekmenu"]))),128))])])),u.value>0?(n(),d("button",{key:2,onClick:t[0]||(t[0]=o=>b.value=!0),class:"fixed bottom-8 right-8 bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white rounded-full p-5 shadow-2xl transition-all hover:scale-110 flex items-center gap-3 z-50 group"},[a(s(j),{class:"h-7 w-7 group-hover:animate-bounce"}),e("span",Be,c(u.value),1)])):v("",!0)]),a(s(F),{open:b.value,"onUpdate:open":t[1]||(t[1]=o=>b.value=o)},{default:g(()=>[a(s(N),{class:"max-w-2xl max-h-[90vh] overflow-y-auto"},{default:g(()=>[a(s(X),null,{default:g(()=>[a(s(G),{class:"text-2xl font-bold flex items-center gap-2"},{default:g(()=>[a(s(j),{class:"h-6 w-6 text-red-600"}),t[11]||(t[11]=f(" ÊÇ®ÁöÑË≥ºÁâ©Ëªä ",-1))]),_:1}),a(s(J),null,{default:g(()=>[...t[12]||(t[12]=[f("Ë´ãÂú®ÈÄÅÂá∫Ë®ÇÂñÆÂâçÁ¢∫Ë™çÊÇ®ÁöÑÈ§êÈªû",-1)])]),_:1})]),_:1}),i.value.length===0?(n(),d("div",Fe,[a(s(j),{class:"h-16 w-16 mx-auto mb-4 text-gray-300"}),t[13]||(t[13]=e("p",{class:"text-lg"},"ÊÇ®ÁöÑË≥ºÁâ©ËªäÊòØÁ©∫ÁöÑ",-1))])):(n(),d("div",Ne,[(n(!0),d(k,null,I(i.value,o=>(n(),d("div",{key:o.weekmenu_id,class:"border-2 border-gray-100 rounded-xl p-4 hover:border-red-200 transition-colors bg-linear-to-r from-white to-orange-50/30"},[e("div",Ue,[e("div",We,[e("h3",Pe,c(o.menu_label),1),e("p",Qe,"‚Ç¨"+c(o.price.toFixed(2))+" ÊØè‰ªΩ",1)]),e("button",{onClick:x=>w(o.weekmenu_id),class:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-colors"},[a(s(R),{class:"h-5 w-5"})],8,Le)]),e("div",Oe,[e("button",{onClick:x=>p(o.weekmenu_id,-1),class:"p-2 rounded-lg border-2 border-red-200 hover:bg-red-50 hover:border-red-400 transition-colors"},[a(s(L),{class:"h-4 w-4 text-red-600"})],8,ze),e("span",De,c(o.quantity),1),e("button",{onClick:x=>p(o.weekmenu_id,1),disabled:o.quantity>=o.max_quantity,class:"p-2 rounded-lg border-2 border-red-200 hover:bg-red-50 hover:border-red-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[a(s(Q),{class:"h-4 w-4 text-red-600"})],8,Ee),e("span",Ye," ‚Ç¨"+c((o.price*o.quantity).toFixed(2)),1)]),a(s(H),{modelValue:o.notes,"onUpdate:modelValue":x=>o.notes=x,placeholder:"ÁâπÊÆäË¶ÅÊ±ÇÊàñÂÇôË®ª...",rows:"2",class:"text-sm border-gray-200 focus:border-red-400 focus:ring-red-400"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),e("div",Ze,[e("div",Ae,[t[14]||(t[14]=e("span",null,"Á∏ΩË®àÔºö",-1)),e("span",He," ‚Ç¨"+c(T.value.toFixed(2)),1)]),a(s(M),{onClick:q,class:"w-full bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white font-bold text-lg py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",size:"lg"},{default:g(()=>[...t[15]||(t[15]=[f(" Á´ãÂç≥‰∏ãÂñÆ üéâ ",-1)])]),_:1})])]))]),_:1})]),_:1},8,["open"]),a(s(F),{open:m.value,"onUpdate:open":t[2]||(t[2]=o=>m.value=o)},{default:g(()=>[a(s(N),{class:"max-w-4xl bg-black/95"},{default:g(()=>[V.value?(n(),d("img",{key:0,src:V.value,alt:"Menu image",class:"w-full h-auto rounded-lg"},null,8,Xe)):v("",!0)]),_:1})]),_:1},8,["open"])]),_:1},8,["cart-count"])],64))}});export{it as default};
