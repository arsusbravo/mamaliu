import{d as C,l as j,j as p,m as D,c as i,a,u as o,h as F,w as n,b as e,o as d,g as _,F as g,r as v,e as V,t as r,f}from"./app-BDAf-W9b.js";import{_ as N}from"./ClientLayout.vue_vue_type_script_setup_true_lang-B52KMYUK.js";import{_ as O,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-DomDUJDp.js";import{_ as B,a as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-DH-OWlsC.js";import{_ as L,a as M,b as P,c as S,d as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D0cXgSvE.js";import{c as b,_ as z}from"./index-CKvwsGaD.js";import{C as h}from"./calendar-DUC8HvlI.js";import"./x-C8YEPfzb.js";import"./Presence-NXQYviUN.js";import"./shopping-cart-Cz8PK_9x.js";const H=b("CircleCheckIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const U=b("HeartIcon",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const W=b("PackageIcon",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},E={key:0,class:"text-center py-20"},T={class:"bg-white rounded-3xl shadow-xl p-12 max-w-md mx-auto"},Z={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},G={class:"flex items-center gap-2"},J={class:"text-lg"},K={class:"text-sm text-gray-600 mt-1"},Q={class:"space-y-3"},R={class:"flex items-center justify-between"},X={class:"font-semibold"},ee={class:"flex items-center justify-between text-lg font-bold border-t pt-3"},te={class:"text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},se={key:0,class:"bg-linear-to-r from-red-600 to-orange-500 text-white p-6 rounded-xl mb-4 -mt-6 -mx-6"},ae={class:"flex items-center justify-center gap-3 mb-2"},oe={key:1,class:"space-y-4 mt-4"},re={class:"space-y-3"},le={class:"flex justify-between items-start mb-2"},ne={class:"flex-1"},de={class:"font-bold text-gray-800"},ie={class:"text-sm text-gray-600"},ce={class:"font-bold text-lg"},me={key:0,class:"text-sm text-gray-600 italic bg-gray-50 p-2 rounded"},ue={class:"border-t-2 pt-4 mt-4"},fe={class:"flex justify-between items-center text-2xl font-black"},xe={class:"text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},pe={key:0,class:"bg-orange-50 p-4 rounded-xl text-center border-2 border-orange-200"},De=C({__name:"Orders",props:{orders:{}},setup(x){const k=x,w=j(),c=p(null),m=p(!1),u=p(!1);D(()=>{const l=w.props.flash;if(l?.success&&l?.orderWeek&&l?.orderYear){const t=k.orders.find(s=>s.week===l.orderWeek&&s.year===l.orderYear);t&&(c.value=t,u.value=!0,m.value=!0)}});const $=l=>{c.value=l,u.value=!1,m.value=!0},y=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(l,t)=>(d(),i(g,null,[a(o(F),{title:"我的訂單"}),a(N,null,{default:n(()=>[e("div",Y,[t[7]||(t[7]=e("div",{class:"mb-8"},[e("h1",{class:"text-4xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500 mb-2"}," 我的訂單 "),e("p",{class:"text-gray-600"},"查看您的訂單歷史與詳細資訊")],-1)),x.orders.length===0?(d(),i("div",E,[e("div",T,[a(o(W),{class:"h-24 w-24 text-gray-300 mx-auto mb-6"}),t[3]||(t[3]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"尚無訂單",-1)),t[4]||(t[4]=e("p",{class:"text-gray-600 mb-6"},"開始點餐吧！",-1)),a(o(z),{onClick:t[0]||(t[0]=s=>l.$inertia.visit("/")),class:"bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600"},{default:n(()=>[...t[2]||(t[2]=[_(" 瀏覽菜單 ",-1)])]),_:1})])])):(d(),i("div",Z,[(d(!0),i(g,null,v(x.orders,s=>(d(),V(o(O),{key:`${s.year}-${s.week}`,class:"overflow-hidden hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-red-200 cursor-pointer",onClick:_e=>$(s)},{default:n(()=>[a(o(B),{class:"bg-linear-to-r from-red-50 to-orange-50 border-b-2 border-red-100"},{default:n(()=>[a(o(I),{class:"flex items-center justify-between"},{default:n(()=>[e("div",G,[a(o(h),{class:"h-5 w-5 text-red-600"}),e("span",J,"第 "+r(s.week)+" 週，"+r(s.year),1)])]),_:2},1024),e("p",K,r(y(s.created_at)),1)]),_:2},1024),a(o(A),{class:"p-6"},{default:n(()=>[e("div",Q,[e("div",R,[t[5]||(t[5]=e("span",{class:"text-gray-600"},"品項",-1)),e("span",X,r(s.items_count),1)]),e("div",ee,[t[6]||(t[6]=e("span",null,"總計",-1)),e("span",te," €"+r(s.total.toFixed(2)),1)])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]))]),a(o(L),{open:m.value,"onUpdate:open":t[1]||(t[1]=s=>m.value=s)},{default:n(()=>[a(o(M),{class:"max-w-2xl max-h-[90vh] overflow-y-auto"},{default:n(()=>[u.value?(d(),i("div",se,[e("div",ae,[a(o(H),{class:"h-8 w-8"}),t[8]||(t[8]=e("h2",{class:"text-2xl font-black"},"謝謝您！",-1))]),t[9]||(t[9]=e("p",{class:"text-center text-white/90"},"您的訂單已成功送出",-1))])):f("",!0),a(o(P),null,{default:n(()=>[a(o(S),{class:"text-2xl font-bold flex items-center gap-2"},{default:n(()=>[a(o(h),{class:"h-6 w-6 text-red-600"}),_(" 第 "+r(c.value?.week)+" 週，"+r(c.value?.year),1)]),_:1}),a(o(q),null,{default:n(()=>[_(" 訂單建立於 "+r(c.value?y(c.value.created_at):""),1)]),_:1})]),_:1}),c.value?(d(),i("div",oe,[e("div",re,[t[10]||(t[10]=e("h3",{class:"font-semibold text-lg"},"訂單品項",-1)),(d(!0),i(g,null,v(c.value.orders,s=>(d(),i("div",{key:s.id,class:"border-2 border-gray-100 rounded-xl p-4 bg-linear-to-r from-white to-orange-50/30"},[e("div",le,[e("div",ne,[e("h4",de,r(s.menu_label),1),e("p",ie,"€"+r(s.price.toFixed(2))+" × "+r(s.quantity),1)]),e("span",ce,"€"+r(s.total.toFixed(2)),1)]),s.notes?(d(),i("p",me,' "'+r(s.notes)+'" ',1)):f("",!0)]))),128))]),e("div",ue,[e("div",fe,[t[11]||(t[11]=e("span",null,"總計",-1)),e("span",xe," €"+r(c.value.total.toFixed(2)),1)])]),u.value?(d(),i("div",pe,[a(o(U),{class:"h-6 w-6 text-red-600 mx-auto mb-2"}),t[12]||(t[12]=e("p",{class:"text-gray-700 font-medium"}," 感謝您的訂購！我們將用心為您準備餐點。 ",-1))])):f("",!0)])):f("",!0)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{De as default};
