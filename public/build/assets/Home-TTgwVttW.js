import{d as V,j as y,k as $,e as F,w as g,b as e,a as s,c as d,f as h,u as a,t as i,g as v,o as l,h as Q,F as I,r as S,i as W}from"./app-ij6owHZq.js";import{_ as Y}from"./ClientLayout.vue_vue_type_script_setup_true_lang-V_RL1uJ0.js";import{a as A,_ as D}from"./CardContent.vue_vue_type_script_setup_true_lang-B_9HlN3P.js";import{c as P,_ as B}from"./index-B7rlVD1z.js";import{M as L,S as z}from"./shopping-bag-BhhUFtw1.js";import{P as O}from"./plus-Btpzw593.js";import{_ as E}from"./Textarea.vue_vue_type_script_setup_true_lang-CjSWtUQN.js";import{_ as N,a as T,b as Z,c as H,d as R}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CjHiwey8.js";import{S as X}from"./sparkles-pBavUWS1.js";import{C as G}from"./calendar-DNUopeS8.js";import{S as j}from"./shopping-cart-Dejsk5eO.js";import{X as J}from"./x-Bazv7jjO.js";import"./Presence-CfUu96mN.js";const U=P("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const K=P("ZoomInIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ee={class:"relative group"},te={key:0,class:"relative overflow-hidden"},oe=["src","alt"],se={key:1,class:"w-full h-56 bg-linear-to-br from-red-100 to-orange-100 flex items-center justify-center"},ae={key:3,class:"absolute top-3 left-3 bg-linear-to-r from-red-600 to-orange-500 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg"},re={class:"text-xl font-black text-gray-800 mb-2 line-clamp-1"},ne={class:"text-gray-600 text-sm mb-4 line-clamp-2 min-h-10"},le={key:0,class:"flex items-center gap-1.5 text-xs text-gray-600 mb-3 bg-orange-50 px-2 py-1.5 rounded-lg"},de={class:"font-medium"},ie={class:"text-gray-800 font-semibold"},ue={class:"flex items-center justify-between mb-5"},ce={class:"text-3xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},me={class:"flex items-center gap-2"},xe={class:"flex items-center gap-1 border-2 border-red-200 rounded-xl bg-red-50/50"},ge=["disabled"],fe={class:"w-12 text-center font-bold text-gray-800"},be=["disabled"],pe=V({__name:"MenuCard",props:{weekmenu:{}},emits:["addToCart","enlargeImage"],setup(r,{emit:u}){const f=r,b=u,m=y(1),C=()=>{m.value<f.weekmenu.quantity&&m.value++},w=()=>{m.value>1&&m.value--},_=()=>{b("addToCart",f.weekmenu,m.value),m.value=1},p=$(()=>f.weekmenu.menu.image_url||"");return(k,c)=>(l(),F(a(D),{class:"overflow-hidden hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-red-200 hover:scale-105 bg-white rounded-2xl"},{default:g(()=>[e("div",ee,[r.weekmenu.menu.has_image&&p.value?(l(),d("div",te,[e("img",{src:p.value,alt:r.weekmenu.menu.label,class:"w-full h-56 object-cover cursor-pointer group-hover:scale-110 transition-transform duration-300",onClick:c[0]||(c[0]=q=>b("enlargeImage",p.value))},null,8,oe),c[2]||(c[2]=e("div",{class:"absolute inset-0 bg-linear-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"},null,-1))])):(l(),d("div",se,[...c[3]||(c[3]=[e("span",{class:"text-gray-400 text-lg font-semibold"},"ðŸœ No image",-1)])])),r.weekmenu.menu.has_image&&p.value?(l(),d("button",{key:2,onClick:c[1]||(c[1]=q=>b("enlargeImage",p.value)),class:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm p-2.5 rounded-full hover:bg-white transition-all shadow-lg hover:scale-110"},[s(a(K),{class:"h-5 w-5 text-red-600"})])):h("",!0),r.weekmenu.quantity<=5?(l(),d("div",ae,i(r.weekmenu.quantity)+" portions left! ",1)):h("",!0)]),s(a(A),{class:"p-5"},{default:g(()=>[e("h3",re,i(r.weekmenu.menu.label),1),e("p",ne,i(r.weekmenu.menu.description),1),r.weekmenu.group?(l(),d("div",le,[s(a(L),{class:"h-3.5 w-3.5 text-orange-600"}),e("span",de,[c[4]||(c[4]=v("Delivery place: ",-1)),e("span",ie,i(r.weekmenu.group.name),1)])])):h("",!0),e("div",ue,[e("span",ce," â‚¬"+i(r.weekmenu.menu.price.toFixed(2)),1)]),e("div",me,[e("div",xe,[e("button",{onClick:w,disabled:m.value<=1,class:"p-2.5 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-l-xl transition-colors"},[s(a(U),{class:"h-4 w-4 text-red-600"})],8,ge),e("span",fe,i(m.value),1),e("button",{onClick:C,disabled:m.value>=r.weekmenu.quantity,class:"p-2.5 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-r-xl transition-colors"},[s(a(O),{class:"h-4 w-4 text-red-600"})],8,be)]),s(a(B),{onClick:_,class:"flex-1 bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white font-bold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all"},{default:g(()=>[s(a(z),{class:"h-4 w-4 mr-2"}),c[5]||(c[5]=v(" Add to Cart ",-1))]),_:1})])]),_:1})]),_:1}))}}),ve={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},he={class:"bg-linear-to-r from-red-600 to-orange-500 rounded-3xl shadow-2xl p-8 mb-8 text-white"},ye={class:"flex items-center justify-between flex-wrap gap-4"},we={class:"text-4xl md:text-5xl font-black mb-2 flex items-center gap-3"},_e={class:"flex items-center gap-3 text-white/90 text-lg"},ke={class:"font-semibold"},$e={key:0,class:"px-4 py-1.5 bg-white/20 backdrop-blur-sm rounded-full text-sm font-bold border-2 border-white/30"},Ce={key:0,class:"text-center py-20"},qe={key:1},Ie={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8"},je={class:"font-black text-xl"},Me={key:0,class:"text-center py-12 text-gray-500"},Se={key:1,class:"space-y-4"},Ne={class:"flex items-start justify-between mb-3"},Te={class:"flex-1"},Ve={class:"font-bold text-lg text-gray-800"},Fe={class:"text-sm text-red-600 font-semibold"},Pe=["onClick"],Be={class:"flex items-center gap-3 mb-3"},Oe=["onClick"],Ue={class:"w-16 text-center font-bold text-xl text-gray-800"},Qe=["onClick","disabled"],We={class:"text-sm text-gray-500 ml-auto font-semibold"},Ye={class:"border-t-2 border-gray-200 pt-6 mt-6"},Ae={class:"flex items-center justify-between text-3xl font-black mb-6 text-gray-800"},De={class:"text-transparent bg-clip-text bg-linear-to-r from-red-600 to-orange-500"},Le=["src"],at=V({__name:"Home",props:{weekmenus:{},isPreOrder:{type:Boolean},currentWeek:{},currentYear:{},userName:{}},setup(r){const u=y([]),f=y(!1),b=y(!1),m=y(null),C=(n,t)=>{const o=u.value.find(x=>x.weekmenu_id===n.id);o?o.quantity+=t:u.value.push({weekmenu_id:n.id,menu_label:n.menu.label,quantity:t,price:n.menu.price,max_quantity:n.quantity,notes:""})},w=n=>{u.value=u.value.filter(t=>t.weekmenu_id!==n)},_=(n,t)=>{const o=u.value.find(x=>x.weekmenu_id===n);if(o){const x=o.quantity+t;x<=0?w(n):x<=o.max_quantity&&(o.quantity=x)}},p=$(()=>u.value.reduce((n,t)=>n+t.price*t.quantity,0)),k=$(()=>u.value.reduce((n,t)=>n+t.quantity,0)),c=()=>{if(u.value.length===0){alert("Your cart is empty");return}const n=u.value.map(t=>({weekmenu_id:t.weekmenu_id,quantity:t.quantity,notes:t.notes}));W.post("/place-order",{orders:n},{onSuccess:()=>{u.value=[],f.value=!1}})},q=n=>{m.value=n,b.value=!0},M=$(()=>m.value||"");return(n,t)=>(l(),d(I,null,[s(a(Q),{title:"Order Menu"}),s(Y,{"cart-count":k.value,onShowCart:t[3]||(t[3]=o=>f.value=!0)},{default:g(()=>[e("div",ve,[e("div",he,[e("div",ye,[e("div",null,[e("h1",we,[s(a(X),{class:"h-8 w-8 animate-pulse"}),v(" Welcome, "+i(r.userName)+"! ",1)]),e("div",_e,[s(a(G),{class:"h-5 w-5"}),e("span",ke,"Week "+i(r.currentWeek)+", "+i(r.currentYear),1),r.isPreOrder?(l(),d("span",$e," ðŸŽ‰ Pre-Order ")):h("",!0)])]),t[4]||(t[4]=e("div",{class:"hidden md:block"},[e("img",{src:"/images/logo.png",alt:"Chef",class:"h-32 w-32 object-contain drop-shadow-2xl"})],-1))])]),r.weekmenus.length===0?(l(),d("div",Ce,[...t[5]||(t[5]=[e("div",{class:"bg-white rounded-3xl shadow-xl p-12 max-w-md mx-auto"},[e("img",{src:"/images/logo.png",alt:"Mama Liu",class:"h-32 w-32 object-contain mx-auto mb-6 opacity-50"}),e("h2",{class:"text-3xl font-bold text-gray-800 mb-4"},"No Menu Available"),e("p",{class:"text-gray-600 text-lg"},"Check back soon for next week menu!")],-1)])])):(l(),d("div",qe,[t[6]||(t[6]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"},[e("span",{class:"bg-linear-to-r from-red-600 to-orange-500 text-white px-4 py-2 rounded-xl"}," Week Menu ")],-1)),e("div",Ie,[(l(!0),d(I,null,S(r.weekmenus,o=>(l(),F(pe,{key:o.id,weekmenu:o,onAddToCart:C,onEnlargeImage:q},null,8,["weekmenu"]))),128))])])),k.value>0?(l(),d("button",{key:2,onClick:t[0]||(t[0]=o=>f.value=!0),class:"fixed bottom-8 right-8 bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white rounded-full p-5 shadow-2xl transition-all hover:scale-110 flex items-center gap-3 z-50 group"},[s(a(j),{class:"h-7 w-7 group-hover:animate-bounce"}),e("span",je,i(k.value),1)])):h("",!0)]),s(a(N),{open:f.value,"onUpdate:open":t[1]||(t[1]=o=>f.value=o)},{default:g(()=>[s(a(T),{class:"max-w-2xl max-h-[90vh] overflow-y-auto"},{default:g(()=>[s(a(Z),null,{default:g(()=>[s(a(H),{class:"text-2xl font-bold flex items-center gap-2"},{default:g(()=>[s(a(j),{class:"h-6 w-6 text-red-600"}),t[7]||(t[7]=v(" Your Cart ",-1))]),_:1}),s(a(R),null,{default:g(()=>[...t[8]||(t[8]=[v("Review your order before placing",-1)])]),_:1})]),_:1}),u.value.length===0?(l(),d("div",Me,[s(a(j),{class:"h-16 w-16 mx-auto mb-4 text-gray-300"}),t[9]||(t[9]=e("p",{class:"text-lg"},"Your cart is empty",-1))])):(l(),d("div",Se,[(l(!0),d(I,null,S(u.value,o=>(l(),d("div",{key:o.weekmenu_id,class:"border-2 border-gray-100 rounded-xl p-4 hover:border-red-200 transition-colors bg-linear-to-r from-white to-orange-50/30"},[e("div",Ne,[e("div",Te,[e("h3",Ve,i(o.menu_label),1),e("p",Fe,"â‚¬"+i(o.price.toFixed(2))+" each",1)]),e("button",{onClick:x=>w(o.weekmenu_id),class:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-colors"},[s(a(J),{class:"h-5 w-5"})],8,Pe)]),e("div",Be,[e("button",{onClick:x=>_(o.weekmenu_id,-1),class:"p-2 rounded-lg border-2 border-red-200 hover:bg-red-50 hover:border-red-400 transition-colors"},[s(a(U),{class:"h-4 w-4 text-red-600"})],8,Oe),e("span",Ue,i(o.quantity),1),e("button",{onClick:x=>_(o.weekmenu_id,1),disabled:o.quantity>=o.max_quantity,class:"p-2 rounded-lg border-2 border-red-200 hover:bg-red-50 hover:border-red-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[s(a(O),{class:"h-4 w-4 text-red-600"})],8,Qe),e("span",We," â‚¬"+i((o.price*o.quantity).toFixed(2)),1)]),s(a(E),{modelValue:o.notes,"onUpdate:modelValue":x=>o.notes=x,placeholder:"Special requests or notes...",rows:"2",class:"text-sm border-gray-200 focus:border-red-400 focus:ring-red-400"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),e("div",Ye,[e("div",Ae,[t[10]||(t[10]=e("span",null,"Total:",-1)),e("span",De," â‚¬"+i(p.value.toFixed(2)),1)]),s(a(B),{onClick:c,class:"w-full bg-linear-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 text-white font-bold text-lg py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",size:"lg"},{default:g(()=>[...t[11]||(t[11]=[v(" Place Order Now ðŸŽ‰ ",-1)])]),_:1})])]))]),_:1})]),_:1},8,["open"]),s(a(N),{open:b.value,"onUpdate:open":t[2]||(t[2]=o=>b.value=o)},{default:g(()=>[s(a(T),{class:"max-w-4xl bg-black/95"},{default:g(()=>[M.value?(l(),d("img",{key:0,src:M.value,alt:"Menu image",class:"w-full h-auto rounded-lg"},null,8,Le)):h("",!0)]),_:1})]),_:1},8,["open"])]),_:1},8,["cart-count"])],64))}});export{at as default};
